<!DOCTYPE html>
<!--  ----==Garrett Parker==----   -->
<!--   This HTML script is built   -->
<!--      by Garrett Parker        -->
<html>
    <head>
        <!-- Define Page -->
        <meta charset="utf-8" />
        <title>PROJECT - Account</title>
        <meta name="keywords" content="Garretts Page, Garrett Parker, Garrett, Parker">
        <meta name="description" content="The official webpage of Garrett Parker" />
        <meta name="author" content="Garrett Parker" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="https://garrettspage.com/Style/Images/Icon.ico" />
        <link rel="stylesheet" href="https://garrettspage.com/Style/Style.css" type="text/css" />
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.1/socket.io.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js"></script>
    </head>
    <body>
        <div class="page" id="TOP">
            <!-- Create Navigation Bar & Branding -->
            <div class="header">
                <script src="https://garrettspage.com/Style/Header.js"></script>
            </div>
            <!-- Page Content -->
            <div class="body">
                <div class="text">
                    <h1>Backend Development</h1>
					<p>Uses Node.js + MySQL to authenticate Socket.io connections</p>
                </div>
				<center>
					<form class="login" id="login" >
						<input type="text" autocomplete="username" id="userName" placeholder="Username" /><br>
						<input type="password" autocomplete="current-password" id ="passWord" placeholder="Password" /><br>
						<button type="submit" id="submit" >Login</button>
						<p id="error" style="color: red" ></p>
					</form>
				</center>
            </div>
            <!-- "Copyright" -->
            <div class="footer">
                <script src="https://garrettspage.com/Style/Footer.js"></script>
            </div>
        </div>
    </body>
	<script>
		var socket = io('https://server.garrettspage.com');
		$(document).ready(function(){
			$("#error").hide();
			$("#submit").click(function (e){
				e.preventDefault();
				if ($("#userName").val() == "") {
					$("#error").text("Blank Username");
					$("#error").show();
				}
				socket.emit("acc_send", {
					user: $("#userName").val(),
					pass: $("#passWord").val()
				});
			});
		});
		
		socket.on("acc_authed", function(name){
			$("#login").hide();
			alert("Welcome back " + name + ", nice to see you again!");
		});

		socket.on("acc_invalid", function(){
			alert("Username / Password Invalid, Please try again!");
		});

		socket.on("acc_disabled", function(){
			alert("Account Disabled!");
		});

		socket.on("acc_error", function(){
			alert("Error: Please try again!");
		});
	</script>
</html>